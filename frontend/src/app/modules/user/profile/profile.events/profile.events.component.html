<div class="min-h-screen bg-gradient-to-br from-[#121212] via-[#1a1a1a] to-[#121212] text-white p-4 md:p-6">
    <!-- Search and Filter Section -->
    <div class="mb-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
        <div class="flex items-center gap-3 w-full md:w-auto">
            <div class="search-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg"
                    class="search-icon" fill="none"
                    viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
                <input type="text" placeholder="Search events by title, city..."
                    class="search-input">
            </div>
        </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoadingEvents" class="loading-container">
        <div class="loading-spinner"></div>
        <p class="loading-text">Loading your events...</p>
    </div>

    <!-- Empty State -->
    <div *ngIf="!isLoadingEvents && events.length === 0" class="empty-state">
        <div class="empty-icon-wrapper">
            <svg xmlns="http://www.w3.org/2000/svg" class="empty-icon" fill="none"
                viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
            </svg>
        </div>
        <h3 class="empty-title">No Events Yet</h3>
        <p class="empty-description">Start creating amazing events and they'll appear here</p>
    </div>

    <!-- Grouped Events by Creation Date -->
    <div class="events-container" *ngIf="!isLoadingEvents && groupedEvents.length > 0">
        <div *ngFor="let group of groupedEvents; trackBy: trackByDate" class="event-group">
            <!-- Creation Date Header -->
            <div class="date-header">
                <div class="date-label">
                    <i class="fas fa-calendar-day mr-2"></i>
                    <span>{{ group.displayDate }}</span>
                </div>
                <div class="date-line"></div>
            </div>

            <!-- Events for this creation date -->
            <div class="events-list">
                <div *ngFor="let event of group.events; trackBy: trackByEventId" 
                     class="event-card glass-card">
                    <div class="event-content">
                        <!-- Event Image -->
                        <div class="">
                            <!-- <img [src]="event.mainBanner" [alt]="event.eventTitle" class="event-image"> -->
                            <div class="image-overlay"></div>
                            
                            <!-- Event Type Badge -->
                            <!-- <div class="event-badge type-badge">
                                <i class="fas fa-tag mr-1"></i>
                                {{event.eventType}}
                            </div> -->
                            
                            <!-- Visibility Badge -->
                            <div *ngIf="event.eventVisibility" class="event-badge visibility-badge">
                                <i class="fas fa-eye mr-1"></i>
                                {{event.eventVisibility}}
                            </div>
                        </div>

                        <!-- Event Details -->
                        <div class="event-details">
                            <div class="event-header">
                                <h3 class="event-title">{{event.eventTitle}}</h3>
                            </div>

                            <!-- Date and Time -->
                            <div class="event-meta">
                                <div class="meta-item">
                                    <i class="fas fa-calendar-alt meta-icon"></i>
                                    <span class="meta-text">
                                        {{ event.startDate | date:'MMM d, y' }} at {{ event.startTime | date:'shortTime' }}
                                        <span *ngIf="event.endingDate" class="text-gray-400">
                                            to {{ event.endingDate | date:'MMM d, y' }}
                                        </span>
                                    </span>
                                </div>

                                <!-- Location -->
                                <div class="meta-item">
                                    <i class="fas fa-map-marker-alt meta-icon"></i>
                                    <span class="meta-text">
                                        {{event.venueName}}<span *ngIf="event.venueAddress">, {{event.venueAddress}}</span>, {{event.city}}
                                    </span>
                                </div>
                            </div>

                            <!-- Age Restriction -->
                            <div *ngIf="event.ageRestriction" class="age-restriction-badge">
                                <i class="fas fa-exclamation-triangle mr-1"></i>
                                Age Restricted
                            </div>

                            <!-- Description -->
                            <div class="event-description">
                                <p class="description-text">{{event.eventDescription}}</p>
                            </div>

                            <!-- Tickets -->
                            <div class="tickets-section">
                                <div class="tickets-header">
                                    <i class="fas fa-ticket-alt mr-2"></i>
                                    <span>Tickets</span>
                                </div>
                                <div class="tickets-list">
                                    <div *ngFor="let ticket of event.tickets" class="ticket-item">
                                        <span class="ticket-type">{{ticket.type}}</span>
                                        <span class="ticket-price">â‚¹{{ticket.price}}</span>
                                        <span class="ticket-quantity">({{ticket.quantity}} available)</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="event-actions">
                            <button (click)="editEvent(event._id)" class="action-btn primary">
                                <i class="fas fa-edit"></i>
                                <span class="btn-text">Edit</span>
                            </button>
                            <button (click)="confirmDelete(event._id)" class="action-btn danger">
                                <i class="fas fa-trash-alt"></i>
                                <span class="btn-text">Delete</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load More Spinner -->
    <div *ngIf="isLoadingMore" class="load-more-container">
        <div class="loading-spinner small"></div>
        <span class="loading-text">Loading more events...</span>
    </div>

    <!-- End of List Message -->
    <div *ngIf="!isLoadingEvents && events.length > 0 && !hasMore" class="end-message">
        <i class="fas fa-check-circle mr-2"></i>
        <span>You've reached the end of your events</span>
    </div>
</div>

<!-- Delete Confirmation Dialog -->
<div *ngIf="isDeleteConfirmDialogVisible" class="dialog-overlay">
    <div class="dialog-container glass-dialog">
        <div class="dialog-header">
            <i class="fas fa-exclamation-triangle dialog-icon"></i>
            <h3 class="dialog-title">Confirm Delete</h3>
        </div>
        
        <div class="dialog-content">
            <p class="dialog-message">
                Are you sure you want to delete this event? This action cannot be undone and all associated data will be permanently removed.
            </p>
        </div>
        
        <div class="dialog-actions">
            <button (click)="cancelDelete()" class="action-btn secondary">
                <i class="fas fa-times mr-2"></i>
                Cancel
            </button>
            <button (click)="deleteEvent()" class="action-btn danger">
                <i class="fas fa-trash-alt mr-2"></i>
                Delete Event
            </button>
        </div>
    </div>
</div>
